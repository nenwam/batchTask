{"ast":null,"code":"const mondayApiClient = require(\"./monday-api-client\");\nconst {\n  oauthToken\n} = require(\"./services/oauth-service.js\");\nconst TOKEN_MISSING_ERROR = \"Should send 'token' as an option or call mondaySdk.setToken(TOKEN)\";\nclass MondayServerSdk {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this._token = options.token;\n    this.setToken = this.setToken.bind(this);\n    this.api = this.api.bind(this);\n  }\n  setToken(token) {\n    this._token = token;\n  }\n  async api(query) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const params = {\n      query,\n      variables: options.variables\n    };\n    const token = options.token || this._token;\n    if (!token) throw new Error(TOKEN_MISSING_ERROR);\n    return await mondayApiClient.execute(params, token);\n  }\n  oauthToken(code, clientId, clientSecret) {\n    return oauthToken(code, clientId, clientSecret);\n  }\n}\nfunction init() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return new MondayServerSdk(options);\n}\nmodule.exports = init;","map":{"version":3,"names":["mondayApiClient","require","oauthToken","TOKEN_MISSING_ERROR","MondayServerSdk","constructor","options","arguments","length","undefined","_token","token","setToken","bind","api","query","params","variables","Error","execute","code","clientId","clientSecret","init","module","exports"],"sources":["/Users/connor/Documents/batchtask/batchTask/node_modules/monday-sdk-js/src/server.js"],"sourcesContent":["const mondayApiClient = require(\"./monday-api-client\");\nconst { oauthToken } = require(\"./services/oauth-service.js\");\n\nconst TOKEN_MISSING_ERROR = \"Should send 'token' as an option or call mondaySdk.setToken(TOKEN)\";\n\nclass MondayServerSdk {\n  constructor(options = {}) {\n    this._token = options.token;\n\n    this.setToken = this.setToken.bind(this);\n    this.api = this.api.bind(this);\n  }\n\n  setToken(token) {\n    this._token = token;\n  }\n\n  async api(query, options = {}) {\n    const params = { query, variables: options.variables };\n    const token = options.token || this._token;\n\n    if (!token) throw new Error(TOKEN_MISSING_ERROR);\n\n    return await mondayApiClient.execute(params, token);\n  }\n\n  oauthToken(code, clientId, clientSecret) {\n    return oauthToken(code, clientId, clientSecret);\n  }\n}\n\nfunction init(options = {}) {\n  return new MondayServerSdk(options);\n}\n\nmodule.exports = init;\n"],"mappings":"AAAA,MAAMA,eAAe,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AACtD,MAAM;EAAEC;AAAW,CAAC,GAAGD,OAAO,CAAC,6BAA6B,CAAC;AAE7D,MAAME,mBAAmB,GAAG,oEAAoE;AAEhG,MAAMC,eAAe,CAAC;EACpBC,WAAWA,CAAA,EAAe;IAAA,IAAdC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IACtB,IAAI,CAACG,MAAM,GAAGJ,OAAO,CAACK,KAAK;IAE3B,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACC,IAAI,CAAC,IAAI,CAAC;IACxC,IAAI,CAACC,GAAG,GAAG,IAAI,CAACA,GAAG,CAACD,IAAI,CAAC,IAAI,CAAC;EAChC;EAEAD,QAAQA,CAACD,KAAK,EAAE;IACd,IAAI,CAACD,MAAM,GAAGC,KAAK;EACrB;EAEA,MAAMG,GAAGA,CAACC,KAAK,EAAgB;IAAA,IAAdT,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IAC3B,MAAMS,MAAM,GAAG;MAAED,KAAK;MAAEE,SAAS,EAAEX,OAAO,CAACW;IAAU,CAAC;IACtD,MAAMN,KAAK,GAAGL,OAAO,CAACK,KAAK,IAAI,IAAI,CAACD,MAAM;IAE1C,IAAI,CAACC,KAAK,EAAE,MAAM,IAAIO,KAAK,CAACf,mBAAmB,CAAC;IAEhD,OAAO,MAAMH,eAAe,CAACmB,OAAO,CAACH,MAAM,EAAEL,KAAK,CAAC;EACrD;EAEAT,UAAUA,CAACkB,IAAI,EAAEC,QAAQ,EAAEC,YAAY,EAAE;IACvC,OAAOpB,UAAU,CAACkB,IAAI,EAAEC,QAAQ,EAAEC,YAAY,CAAC;EACjD;AACF;AAEA,SAASC,IAAIA,CAAA,EAAe;EAAA,IAAdjB,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACxB,OAAO,IAAIH,eAAe,CAACE,OAAO,CAAC;AACrC;AAEAkB,MAAM,CAACC,OAAO,GAAGF,IAAI"},"metadata":{},"sourceType":"script"}