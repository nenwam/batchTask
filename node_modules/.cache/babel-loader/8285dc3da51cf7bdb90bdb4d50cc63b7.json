{"ast":null,"code":"var _regeneratorRuntime = require(\"/home/nenwam/Documents/rallyessentials/batchtask/quickstart-react/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"/home/nenwam/Documents/rallyessentials/batchtask/quickstart-react/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar _classCallCheck = require(\"/home/nenwam/Documents/rallyessentials/batchtask/quickstart-react/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/home/nenwam/Documents/rallyessentials/batchtask/quickstart-react/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar mondayApiClient = require(\"./monday-api-client\");\nvar _require = require(\"./services/oauth-service.js\"),\n  _oauthToken = _require.oauthToken;\nvar TOKEN_MISSING_ERROR = \"Should send 'token' as an option or call mondaySdk.setToken(TOKEN)\";\nvar MondayServerSdk = /*#__PURE__*/function () {\n  \"use strict\";\n\n  function MondayServerSdk() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, MondayServerSdk);\n    this._token = options.token;\n    this.setToken = this.setToken.bind(this);\n    this.api = this.api.bind(this);\n  }\n  _createClass(MondayServerSdk, [{\n    key: \"setToken\",\n    value: function setToken(token) {\n      this._token = token;\n    }\n  }, {\n    key: \"api\",\n    value: function () {\n      var _api = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(query) {\n        var options,\n          params,\n          token,\n          _args = arguments;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n                params = {\n                  query: query,\n                  variables: options.variables\n                };\n                token = options.token || this._token;\n                if (token) {\n                  _context.next = 5;\n                  break;\n                }\n                throw new Error(TOKEN_MISSING_ERROR);\n              case 5:\n                _context.next = 7;\n                return mondayApiClient.execute(params, token);\n              case 7:\n                return _context.abrupt(\"return\", _context.sent);\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function api(_x) {\n        return _api.apply(this, arguments);\n      }\n      return api;\n    }()\n  }, {\n    key: \"oauthToken\",\n    value: function oauthToken(code, clientId, clientSecret) {\n      return _oauthToken(code, clientId, clientSecret);\n    }\n  }]);\n  return MondayServerSdk;\n}();\nfunction init() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return new MondayServerSdk(options);\n}\nmodule.exports = init;","map":{"version":3,"names":["mondayApiClient","require","_require","oauthToken","TOKEN_MISSING_ERROR","MondayServerSdk","options","arguments","length","undefined","_classCallCheck","_token","token","setToken","bind","api","_createClass","key","value","_api","_asyncToGenerator","_regeneratorRuntime","mark","_callee","query","params","_args","wrap","_callee$","_context","prev","next","variables","Error","execute","abrupt","sent","stop","_x","apply","code","clientId","clientSecret","init","module","exports"],"sources":["/home/nenwam/Documents/rallyessentials/batchtask/quickstart-react/node_modules/monday-sdk-js/src/server.js"],"sourcesContent":["const mondayApiClient = require(\"./monday-api-client\");\nconst { oauthToken } = require(\"./services/oauth-service.js\");\n\nconst TOKEN_MISSING_ERROR = \"Should send 'token' as an option or call mondaySdk.setToken(TOKEN)\";\n\nclass MondayServerSdk {\n  constructor(options = {}) {\n    this._token = options.token;\n\n    this.setToken = this.setToken.bind(this);\n    this.api = this.api.bind(this);\n  }\n\n  setToken(token) {\n    this._token = token;\n  }\n\n  async api(query, options = {}) {\n    const params = { query, variables: options.variables };\n    const token = options.token || this._token;\n\n    if (!token) throw new Error(TOKEN_MISSING_ERROR);\n\n    return await mondayApiClient.execute(params, token);\n  }\n\n  oauthToken(code, clientId, clientSecret) {\n    return oauthToken(code, clientId, clientSecret);\n  }\n}\n\nfunction init(options = {}) {\n  return new MondayServerSdk(options);\n}\n\nmodule.exports = init;\n"],"mappings":";;;;AAAA,IAAMA,eAAe,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AACtD,IAAAC,QAAA,GAAuBD,OAAO,CAAC,6BAA6B,CAAC;EAArDE,WAAU,GAAAD,QAAA,CAAVC,UAAU;AAElB,IAAMC,mBAAmB,GAAG,oEAAoE;AAAC,IAE3FC,eAAe;EAAA;;EACnB,SAAAA,gBAAA,EAA0B;IAAA,IAAdC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IAAAG,eAAA,OAAAL,eAAA;IACtB,IAAI,CAACM,MAAM,GAAGL,OAAO,CAACM,KAAK;IAE3B,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACC,IAAI,CAAC,IAAI,CAAC;IACxC,IAAI,CAACC,GAAG,GAAG,IAAI,CAACA,GAAG,CAACD,IAAI,CAAC,IAAI,CAAC;EAChC;EAACE,YAAA,CAAAX,eAAA;IAAAY,GAAA;IAAAC,KAAA,EAED,SAAAL,SAASD,KAAK,EAAE;MACd,IAAI,CAACD,MAAM,GAAGC,KAAK;IACrB;EAAC;IAAAK,GAAA;IAAAC,KAAA;MAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAED,SAAAC,QAAUC,KAAK;QAAA,IAAAlB,OAAA;UAAAmB,MAAA;UAAAb,KAAA;UAAAc,KAAA,GAAAnB,SAAA;QAAA,OAAAc,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA;UAAA;YAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;cAAA;gBAAEzB,OAAO,GAAAoB,KAAA,CAAAlB,MAAA,QAAAkB,KAAA,QAAAjB,SAAA,GAAAiB,KAAA,MAAG,CAAC,CAAC;gBACrBD,MAAM,GAAG;kBAAED,KAAK,EAALA,KAAK;kBAAEQ,SAAS,EAAE1B,OAAO,CAAC0B;gBAAU,CAAC;gBAChDpB,KAAK,GAAGN,OAAO,CAACM,KAAK,IAAI,IAAI,CAACD,MAAM;gBAAA,IAErCC,KAAK;kBAAAiB,QAAA,CAAAE,IAAA;kBAAA;gBAAA;gBAAA,MAAQ,IAAIE,KAAK,CAAC7B,mBAAmB,CAAC;cAAA;gBAAAyB,QAAA,CAAAE,IAAA;gBAAA,OAEnC/B,eAAe,CAACkC,OAAO,CAACT,MAAM,EAAEb,KAAK,CAAC;cAAA;gBAAA,OAAAiB,QAAA,CAAAM,MAAA,WAAAN,QAAA,CAAAO,IAAA;cAAA;cAAA;gBAAA,OAAAP,QAAA,CAAAQ,IAAA;YAAA;UAAA;QAAA,GAAAd,OAAA;MAAA,CACpD;MAAA,SAAAR,IAAAuB,EAAA;QAAA,OAAAnB,IAAA,CAAAoB,KAAA,OAAAhC,SAAA;MAAA;MAAA,OAAAQ,GAAA;IAAA;EAAA;IAAAE,GAAA;IAAAC,KAAA,EAED,SAAAf,WAAWqC,IAAI,EAAEC,QAAQ,EAAEC,YAAY,EAAE;MACvC,OAAOvC,WAAU,CAACqC,IAAI,EAAEC,QAAQ,EAAEC,YAAY,CAAC;IACjD;EAAC;EAAA,OAAArC,eAAA;AAAA;AAGH,SAASsC,IAAIA,CAAA,EAAe;EAAA,IAAdrC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACxB,OAAO,IAAIF,eAAe,CAACC,OAAO,CAAC;AACrC;AAEAsC,MAAM,CAACC,OAAO,GAAGF,IAAI"},"metadata":{},"sourceType":"script"}