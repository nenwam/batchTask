{"ast":null,"code":"var _toConsumableArray = require(\"/home/nenwam/Documents/rallyessentials/batchtask/quickstart-react/node_modules/@babel/runtime/helpers/toConsumableArray.js\").default;\nvar _classCallCheck = require(\"/home/nenwam/Documents/rallyessentials/batchtask/quickstart-react/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/home/nenwam/Documents/rallyessentials/batchtask/quickstart-react/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar mondayApiClient = require(\"./monday-api-client\");\nvar _require = require(\"./constants.js\"),\n  MONDAY_OAUTH_URL = _require.MONDAY_OAUTH_URL;\nvar _require2 = require(\"./helpers\"),\n  convertToArrayIfNeeded = _require2.convertToArrayIfNeeded;\nvar _require3 = require(\"./helpers/ui-helpers\"),\n  initScrollHelperIfNeeded = _require3.initScrollHelperIfNeeded;\nvar _require4 = require(\"./services/background-tracking-service\"),\n  initBackgroundTracking = _require4.initBackgroundTracking;\nvar EMPTY_ARRAY = [];\nvar MondayClientSdk = /*#__PURE__*/function () {\n  \"use strict\";\n\n  function MondayClientSdk() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, MondayClientSdk);\n    this._clientId = options.clientId;\n    this._apiToken = options.apiToken;\n    this.listeners = {};\n    this.setClientId = this.setClientId.bind(this);\n    this.setToken = this.setToken.bind(this);\n    this.api = this.api.bind(this);\n    this.listen = this.listen.bind(this);\n    this.get = this.get.bind(this);\n    this.set = this.set.bind(this);\n    this.execute = this.execute.bind(this);\n    this.oauth = this.oauth.bind(this);\n    this._receiveMessage = this._receiveMessage.bind(this);\n    this.storage = {\n      instance: {\n        setItem: this.setStorageInstanceItem.bind(this),\n        getItem: this.getStorageInstanceItem.bind(this),\n        deleteItem: this.deleteStorageInstanceItem.bind(this)\n      }\n    };\n    window.addEventListener(\"message\", this._receiveMessage, false);\n    if (!options.withoutScrollHelper) initScrollHelperIfNeeded();\n    initBackgroundTracking(this);\n  }\n  _createClass(MondayClientSdk, [{\n    key: \"setClientId\",\n    value: function setClientId(clientId) {\n      this._clientId = clientId;\n    }\n  }, {\n    key: \"setToken\",\n    value: function setToken(token) {\n      this._apiToken = token;\n    }\n  }, {\n    key: \"api\",\n    value: function api(query) {\n      var _this = this;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var params = {\n        query: query,\n        variables: options.variables\n      };\n      var token = options.token || this._apiToken;\n      if (token) {\n        return mondayApiClient.execute(params, token);\n      } else {\n        return new Promise(function (resolve, reject) {\n          _this._localApi(\"api\", {\n            params: params\n          }).then(function (result) {\n            resolve(result.data);\n          }).catch(function (err) {\n            return reject(err);\n          });\n        });\n      }\n    }\n  }, {\n    key: \"listen\",\n    value: function listen(typeOrTypes, callback, params) {\n      var _this2 = this;\n      var types = convertToArrayIfNeeded(typeOrTypes);\n      types.forEach(function (type) {\n        _this2._addListener(type, callback);\n        _this2._localApi(\"listen\", {\n          type: type,\n          params: params\n        });\n      });\n      // todo uniq listeners, remove listener\n    }\n  }, {\n    key: \"get\",\n    value: function get(type, params) {\n      return this._localApi(\"get\", {\n        type: type,\n        params: params\n      });\n    }\n  }, {\n    key: \"set\",\n    value: function set(type, params) {\n      return this._localApi(\"set\", {\n        type: type,\n        params: params\n      });\n    }\n  }, {\n    key: \"execute\",\n    value: function execute(type, params) {\n      return this._localApi(\"execute\", {\n        type: type,\n        params: params\n      });\n    }\n  }, {\n    key: \"track\",\n    value: function track(name, data) {\n      return this.execute(\"track\", {\n        name: name,\n        data: data\n      });\n    }\n  }, {\n    key: \"oauth\",\n    value: function oauth() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var clientId = options.clientId || this._clientId;\n      if (!clientId) throw new Error(\"clientId is required\");\n      var mondayOauthUrl = options.mondayOauthUrl || MONDAY_OAUTH_URL;\n      var url = \"\".concat(mondayOauthUrl, \"?client_id=\").concat(clientId);\n      window.location = url;\n    }\n  }, {\n    key: \"setStorageInstanceItem\",\n    value: function setStorageInstanceItem(key, value) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return this._localApi(\"storage\", {\n        method: \"set\",\n        key: key,\n        value: value,\n        options: options,\n        segment: \"instance\"\n      });\n    }\n  }, {\n    key: \"getStorageInstanceItem\",\n    value: function getStorageInstanceItem(key) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this._localApi(\"storage\", {\n        method: \"get\",\n        key: key,\n        options: options,\n        segment: \"instance\"\n      });\n    }\n  }, {\n    key: \"deleteStorageInstanceItem\",\n    value: function deleteStorageInstanceItem(key) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this._localApi(\"storage\", {\n        method: \"delete\",\n        key: key,\n        options: options,\n        segment: \"instance\"\n      });\n    }\n  }, {\n    key: \"_localApi\",\n    value: function _localApi(method, args) {\n      var _this3 = this;\n      return new Promise(function (resolve, reject) {\n        var requestId = _this3._generateRequestId();\n        var clientId = _this3._clientId;\n        var pjson = require(\"../package.json\");\n        var version = pjson.version;\n        window.parent.postMessage({\n          method: method,\n          args: args,\n          requestId: requestId,\n          clientId: clientId,\n          version: version\n        }, \"*\");\n        _this3._addListener(requestId, function (data) {\n          if (data.errorMessage) {\n            var error = new Error(data.errorMessage);\n            error.data = data.data;\n            reject(error);\n          } else {\n            resolve(data);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"_receiveMessage\",\n    value: function _receiveMessage(event) {\n      var _event$data = event.data,\n        method = _event$data.method,\n        type = _event$data.type,\n        requestId = _event$data.requestId;\n      var methodListeners = this.listeners[method] || EMPTY_ARRAY;\n      var typeListeners = this.listeners[type] || EMPTY_ARRAY;\n      var requestIdListeners = this.listeners[requestId] || EMPTY_ARRAY;\n      var listeners = [].concat(_toConsumableArray(methodListeners), _toConsumableArray(typeListeners), _toConsumableArray(requestIdListeners));\n      if (listeners) {\n        listeners.forEach(function (listener) {\n          try {\n            listener(event.data);\n          } catch (err) {\n            console.error(\"Message callback error: \", err);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_addListener\",\n    value: function _addListener(key, callback) {\n      this.listeners[key] = this.listeners[key] || [];\n      this.listeners[key].push(callback);\n    }\n  }, {\n    key: \"_generateRequestId\",\n    value: function _generateRequestId() {\n      return Math.random().toString(36).substr(2, 9);\n    }\n  }, {\n    key: \"_removeEventListener\",\n    value: function _removeEventListener() {\n      window.removeEventListener(\"message\", this._receiveMessage, false);\n    }\n  }, {\n    key: \"_clearListeners\",\n    value: function _clearListeners() {\n      this.listeners = [];\n    }\n  }]);\n  return MondayClientSdk;\n}();\nfunction init() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return new MondayClientSdk(options);\n}\nmodule.exports = init;","map":{"version":3,"names":["mondayApiClient","require","_require","MONDAY_OAUTH_URL","_require2","convertToArrayIfNeeded","_require3","initScrollHelperIfNeeded","_require4","initBackgroundTracking","EMPTY_ARRAY","MondayClientSdk","options","arguments","length","undefined","_classCallCheck","_clientId","clientId","_apiToken","apiToken","listeners","setClientId","bind","setToken","api","listen","get","set","execute","oauth","_receiveMessage","storage","instance","setItem","setStorageInstanceItem","getItem","getStorageInstanceItem","deleteItem","deleteStorageInstanceItem","window","addEventListener","withoutScrollHelper","_createClass","key","value","token","query","_this","params","variables","Promise","resolve","reject","_localApi","then","result","data","catch","err","typeOrTypes","callback","_this2","types","forEach","type","_addListener","track","name","Error","mondayOauthUrl","url","concat","location","method","segment","args","_this3","requestId","_generateRequestId","pjson","version","parent","postMessage","errorMessage","error","event","_event$data","methodListeners","typeListeners","requestIdListeners","_toConsumableArray","listener","console","push","Math","random","toString","substr","_removeEventListener","removeEventListener","_clearListeners","init","module","exports"],"sources":["/home/nenwam/Documents/rallyessentials/batchtask/quickstart-react/node_modules/monday-sdk-js/src/client.js"],"sourcesContent":["const mondayApiClient = require(\"./monday-api-client\");\nconst { MONDAY_OAUTH_URL } = require(\"./constants.js\");\nconst { convertToArrayIfNeeded } = require(\"./helpers\");\nconst { initScrollHelperIfNeeded } = require(\"./helpers/ui-helpers\");\nconst { initBackgroundTracking } = require(\"./services/background-tracking-service\");\n\nconst EMPTY_ARRAY = [];\n\nclass MondayClientSdk {\n  constructor(options = {}) {\n    this._clientId = options.clientId;\n    this._apiToken = options.apiToken;\n\n    this.listeners = {};\n\n    this.setClientId = this.setClientId.bind(this);\n    this.setToken = this.setToken.bind(this);\n    this.api = this.api.bind(this);\n    this.listen = this.listen.bind(this);\n    this.get = this.get.bind(this);\n    this.set = this.set.bind(this);\n    this.execute = this.execute.bind(this);\n    this.oauth = this.oauth.bind(this);\n    this._receiveMessage = this._receiveMessage.bind(this);\n\n    this.storage = {\n      instance: {\n        setItem: this.setStorageInstanceItem.bind(this),\n        getItem: this.getStorageInstanceItem.bind(this),\n        deleteItem: this.deleteStorageInstanceItem.bind(this)\n      }\n    };\n\n    window.addEventListener(\"message\", this._receiveMessage, false);\n\n    if (!options.withoutScrollHelper) initScrollHelperIfNeeded();\n\n    initBackgroundTracking(this);\n  }\n\n  setClientId(clientId) {\n    this._clientId = clientId;\n  }\n\n  setToken(token) {\n    this._apiToken = token;\n  }\n\n  api(query, options = {}) {\n    const params = { query, variables: options.variables };\n    const token = options.token || this._apiToken;\n    if (token) {\n      return mondayApiClient.execute(params, token);\n    } else {\n      return new Promise((resolve, reject) => {\n        this._localApi(\"api\", { params })\n          .then(result => {\n            resolve(result.data);\n          })\n          .catch(err => reject(err));\n      });\n    }\n  }\n\n  listen(typeOrTypes, callback, params) {\n    const types = convertToArrayIfNeeded(typeOrTypes);\n    types.forEach(type => {\n      this._addListener(type, callback);\n      this._localApi(\"listen\", { type, params });\n    });\n    // todo uniq listeners, remove listener\n  }\n\n  get(type, params) {\n    return this._localApi(\"get\", { type, params });\n  }\n\n  set(type, params) {\n    return this._localApi(\"set\", { type, params });\n  }\n\n  execute(type, params) {\n    return this._localApi(\"execute\", { type, params });\n  }\n\n  track(name, data) {\n    return this.execute(\"track\", { name, data });\n  }\n\n  oauth(options = {}) {\n    const clientId = options.clientId || this._clientId;\n    if (!clientId) throw new Error(\"clientId is required\");\n\n    const mondayOauthUrl = options.mondayOauthUrl || MONDAY_OAUTH_URL;\n\n    const url = `${mondayOauthUrl}?client_id=${clientId}`;\n    window.location = url;\n  }\n\n  setStorageInstanceItem(key, value, options = {}) {\n    return this._localApi(\"storage\", { method: \"set\", key, value, options, segment: \"instance\" });\n  }\n\n  getStorageInstanceItem(key, options = {}) {\n    return this._localApi(\"storage\", { method: \"get\", key, options, segment: \"instance\" });\n  }\n\n  deleteStorageInstanceItem(key, options = {}) {\n    return this._localApi(\"storage\", { method: \"delete\", key, options, segment: \"instance\" });\n  }\n\n  _localApi(method, args) {\n    return new Promise((resolve, reject) => {\n      const requestId = this._generateRequestId();\n      const clientId = this._clientId;\n      const pjson = require(\"../package.json\");\n      const version = pjson.version;\n\n      window.parent.postMessage({ method, args, requestId, clientId, version }, \"*\");\n      this._addListener(requestId, data => {\n        if (data.errorMessage) {\n          const error = new Error(data.errorMessage);\n          error.data = data.data;\n          reject(error);\n        } else {\n          resolve(data);\n        }\n      });\n    });\n  }\n\n  _receiveMessage(event) {\n    const { method, type, requestId } = event.data;\n    const methodListeners = this.listeners[method] || EMPTY_ARRAY;\n    const typeListeners = this.listeners[type] || EMPTY_ARRAY;\n    const requestIdListeners = this.listeners[requestId] || EMPTY_ARRAY;\n    let listeners = [...methodListeners, ...typeListeners, ...requestIdListeners];\n\n    if (listeners) {\n      listeners.forEach(listener => {\n        try {\n          listener(event.data);\n        } catch (err) {\n          console.error(\"Message callback error: \", err);\n        }\n      });\n    }\n  }\n\n  _addListener(key, callback) {\n    this.listeners[key] = this.listeners[key] || [];\n    this.listeners[key].push(callback);\n  }\n\n  _generateRequestId() {\n    return Math.random()\n      .toString(36)\n      .substr(2, 9);\n  }\n\n  _removeEventListener() {\n    window.removeEventListener(\"message\", this._receiveMessage, false);\n  }\n  _clearListeners() {\n    this.listeners = [];\n  }\n}\n\nfunction init(options = {}) {\n  return new MondayClientSdk(options);\n}\n\nmodule.exports = init;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}