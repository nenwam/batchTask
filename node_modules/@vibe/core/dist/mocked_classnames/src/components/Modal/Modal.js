import{slicedToArray as t,defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import o,{useMemo as r,useCallback as i,cloneElement as l}from"react";import a from"react-dom";import n from"classnames";import{useA11yDialog as s}from"./a11yDialog.js";import d from"./ModalContent/ModalContent.js";import m from"./ModalHeader/ModalHeader.js";import c from"./useBodyScrollLock.js";import u from"./useShowHideModal.js";import{ModalWidth as f,validateTitleProp as p,isModalHeader as v,isModalContent as j,isModalFooter as y}from"./ModalHelper.js";import{NOOP as g}from"../../utils/function-utils.js";import{withStaticProps as h}from"../../types/withStaticProps.js";import"../../utils/colors-vars-map.js";import{getTestId as M}from"../../tests/testIds.js";import{ComponentDefaultTestId as w}from"../../tests/constants.js";import E from"./Modal.module.scss.js";import C from"../LayerProvider/LayerProvider.js";import{isClient as L}from"../../utils/ssr-utils.js";var A=h((function(f){var h=f.classNames,A=void 0===h?{container:"",overlay:"",modal:""}:h,b=f.id,D=f.show,O=f.title,P=void 0===O?"":O,H=f.description,S=void 0===H?"":H,B=f.onClose,N=void 0===B?g:B,x=f.alertDialog,_=void 0!==x&&x,k=f.children,z=f.triggerElement,I=f.width,R=void 0===I?"default":I,T=f.closeButtonAriaLabel,V=void 0===T?"Close":T,Y=f.contentSpacing,$=void 0!==Y&&Y,q=f.zIndex,F=void 0===q?1e4:q,G=f.unmountOnClose,J=void 0===G||G,K=f["data-testid"],Q=r((function(){return k?o.Children.toArray(k):[]}),[k]);p(P,Q);var U=s({id:b,alertDialog:_}),W=t(U,2),X=W[0],Z=W[1],tt=i((function(){_||null==N||N()}),[_,N]);c({instance:X});var et=u({instance:X,show:D,triggerElement:z,onClose:N,alertDialog:_}).shouldShow,ot=r((function(){var t=Z.title.id,e=Q.find(v);return e?l(e,{id:t,closeModal:N}):o.createElement(m,{title:P,description:S,closeModal:N,id:t,closeButtonAriaLabel:V})}),[Z.title,Q,P,S,N,V]),rt=r((function(){return Q.find(j)||o.createElement(d,null,Q.filter((function(t){return!v(t)&&!y(t)})))}),[Q]),it=r((function(){return Q.find(y)||null}),[Q]),lt="default"!==R&&"full-width"!==R,at=o.createElement(C,{layerRef:{current:null==X?void 0:X.$el}},o.createElement("div",Object.assign({},Z.container,{className:n(E.container,A.container),"data-testid":K||M(w.MODAL,b),style:{"--monday-modal-z-index":F}}),o.createElement("div",{onClick:tt,className:n(E.overlay,A.overlay),"data-testid":w.MODAL_OVERLAY}),o.createElement("div",Object.assign({},Z.dialog,{className:n(E.dialog,A.modal,e(e(e({},E.default,"default"===R),E.full,"full-width"===R),E.spacing,$)),style:{width:lt?R:null}}),ot,rt,it)));return J&&!et?null:L()?a.createPortal(at,document.body):null}),{width:f});export{A as default};
//# sourceMappingURL=Modal.js.map
