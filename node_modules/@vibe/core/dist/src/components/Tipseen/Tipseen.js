import{slicedToArray as e,defineProperty as t}from"../../../_virtual/_rollupPluginBabelHelpers.js";import o,{forwardRef as i,useRef as r,useState as s,useEffect as n,useMemo as a,Fragment as l}from"react";import m from"classnames";import{AnimationType as d,HideShowEvent as p}from"../Dialog/DialogConstants.js";import c from"../../hooks/useMergeRef.js";import u from"../Tooltip/Tooltip.js";import f from"../IconButton/IconButton.js";import h from"./TipseenTitle.js";import{TipseenCloseButtonTheme as v,TipseenColor as T,TIPSEEN_CLOSE_BUTTON_ARIA_LABEL as y}from"./TipseenConstants.js";import{withStaticProps as g}from"../../types/withStaticProps.js";import"../../utils/colors-vars-map.js";import{ComponentDefaultTestId as C}from"../../tests/constants.js";import{getTestId as j}from"../../tests/testIds.js";import N from"../Text/Text.js";import B from"./Tipseen.module.scss.js";import{ButtonColor as E}from"../Button/ButtonConstants.js";import{TooltipPositions as w}from"../Tooltip/TooltipConstants.js";import x from"../../../icons/dist/react/CloseSmall.js";var A=o.createContext("primary"),D=g(i((function(i,d){var p=i.className,v=i.id,T=i.position,g=void 0===T?"bottom":T,w=i.animationType,D=void 0===w?"expand":w,R=i.hideDelay,S=void 0===R?0:R,k=i.showDelay,I=void 0===k?100:k,P=i.title,W=i.titleClassName,O=i.hideCloseButton,_=i.closeButtonTheme,b=void 0===_?"light":_,H=i.onClose,L=i.closeAriaLabel,M=i.children,z=void 0===M?null:M,G=i.content,K=i.containerSelector,U=i.hideTrigger,V=void 0===U?[]:U,Y=i.showTrigger,q=void 0===Y?[]:Y,F=i.width,J=i.moveBy,Q=i.hideWhenReferenceHidden,X=void 0!==Q&&Q,Z=i.tip,$=void 0===Z||Z,ee=i.tooltipArrowClassName,te=i.modifiers,oe=void 0===te?[]:te,ie=i.floating,re=void 0!==ie&&ie,se=i.color,ne=i["data-testid"],ae=null!=se?se:"inverted",le=Array.isArray(q)&&Array.isArray(V)&&0===q.length&&I>0,me=r(null),de=c(d,me),pe=s(!le),ce=e(pe,2),ue=ce[0],fe=ce[1],he=L||y;n((function(){var e;return I&&(e=setTimeout((function(){fe(!0)}),I)),function(){clearTimeout(e)}}),[I,fe]);var ve=a((function(){return"inverted"===ae?"onInverted":"onPrimary"}),[ae]),Te=a((function(){return"light"===b?"inverted"===ae?E.ON_INVERTED_BACKGROUND:E.ON_PRIMARY_COLOR:b}),[ae,b]),ye=d||v?"div":l,ge=o.createElement("div",null,o.createElement("div",{className:m(B.tipseenHeader)},O?null:o.createElement(f,{hideTooltip:!0,className:m(B.tipseenCloseButton,t({},B.dark,"dark"===b||"fixed-dark"===b)),onClick:H,size:"xs",kind:"tertiary",color:Te,ariaLabel:he,icon:x}),o.createElement(h,{text:P,className:m(B.tipseenTitle,W)})),o.createElement(N,{color:ve,type:"text2",element:"p",className:m(B.tipseenContent)},o.createElement(A.Provider,{value:ae},G)));return o.createElement(ye,{ref:de,id:v,"data-testid":ne||j(C.TIPSEEN,v)},o.createElement(u,{className:m(B.tipseenWrapper,p,t(t({},B.tipseenWrapperWithoutCustomWidth,!F),B.floating,re)),arrowClassName:ee,style:F?{width:F}:void 0,shouldShowOnMount:!le,position:g,animationType:D,hideDelay:S,showDelay:I,hideTrigger:V,showTrigger:q,content:ge,theme:"inverted"===ae?"dark":"primary",containerSelector:K,disableDialogSlide:!1,moveBy:J,hideWhenReferenceHidden:X,tip:$&&!re,modifiers:oe,open:le?ue:void 0,forceRenderWithoutChildren:re},z))})),{closeButtonThemes:v,animationTypes:d,hideShowTriggers:p,colors:T,positions:w});export{A as TipseenContext,D as default};
//# sourceMappingURL=Tipseen.js.map
