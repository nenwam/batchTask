import{objectWithoutProperties as e,slicedToArray as t,defineProperty as n,extends as l}from"../../../../../_virtual/_rollupPluginBabelHelpers.js";import o,{useState as i,useEffect as a,useCallback as r}from"react";import{components as c}from"react-select";import s from"classnames";import{useHiddenOptionsData as u}from"../../hooks/useHiddenOptionsData.js";import m from"../../../Counter/Counter.js";import p from"../../../Dialog/Dialog.js";import d from"../../../DialogContentContainer/DialogContentContainer.js";import h from"../../../Chips/Chips.js";import f from"./MultiValueContainer.module.scss.js";var v=["children","selectProps"];function g(g){var C=g.children,E=g.selectProps,D=e(g,v),b=E.isDisabled,w=E.placeholder,y=E.inputValue,P=E.selectProps,N=void 0===P?{}:P,j=E.withMandatoryDefaultOptions,M=E.readOnly,O=N.selectedOptions,k=N.onSelectedDelete,x=N.isMultiline,A=N.popupsContainerSelector,S=N.size,T=C[1],V=i(),B=t(V,2),I=B[0],F=B[1],H=i(!1),R=t(H,2),W=R[0],_=R[1],z=0===O.length&&!y,q=f["chip-with-input-wrapper"],G=s(x?f["multiselect-chip-multi-line"]:f["multiselect-chip-single-line-".concat(S)],n({},f["multiselect-chip-disabled"],b)),J=u({isMultiline:x,ref:I,chipClassName:G,chipWrapperClassName:q,selectedOptionsCount:O.length,isCounterShown:W}),K=J.overflowIndex,L=J.hiddenOptionsCount;a((function(){_(L>0)}),[L]);var Q=r((function(e){k(e.value,{action:"remove-value",removedValue:e})}),[k]),U=["primary","negative","positive"],X=r((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.length;return O.map((function(n,l){var i=U.includes(n.chipColor)?n.chipColor:"primary";return l>=e&&t>l?o.createElement(h,{"data-testid":"value-container-chip",key:n.value,className:s(f.chips,G),noAnimation:!0,disabled:b,id:n.value,label:n.label,onDelete:function(){return Q(n)},disableClickableBehavior:!0,onMouseDown:function(e){e.stopPropagation()},readOnly:M||j&&n.isMandatory,allowTextSelection:M,leftRenderer:n.leftRenderer,leftAvatar:n.leftAvatar,leftIcon:n.leftIcon,color:i}):null}))}),[O,G,b,M,j,Q,S]);return o.createElement(c.ValueContainer,l({selectProps:E},D),o.createElement("div",{className:f["value-container"]},z&&o.createElement("div",{className:f["placeholder-container"]},o.createElement(c.Placeholder,D,w)),o.createElement("div",{className:s(f["value-container-chips"],n({},f["without-placeholder"],!z)),ref:function(e){return F(e)},"data-testid":"value-container-chips"},W?o.createElement(o.Fragment,null,X(0,K-1),o.createElement("div",{className:q},X(K-1,K),T),X(K)):o.createElement(o.Fragment,null,X(0,O.length-1),o.createElement("div",{className:q},X(O.length-1),T))),o.createElement("div",null,W&&o.createElement(p,{content:function(){return o.createElement(d,{className:f.valueDialogContent},X(K))},containerSelector:A,tooltip:!0,showTrigger:"click",hideTrigger:"clickoutside",position:"bottom",moveBy:{main:5}},o.createElement(m,{kind:"line",prefix:"+",count:L,onMouseDown:function(e){e.stopPropagation()},noAnimation:!0})))))}export{g as default};
//# sourceMappingURL=MultiValueContainer.js.map
